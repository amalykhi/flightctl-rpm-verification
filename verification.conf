#!/bin/bash
# FlightCtl OIDC Verification Configuration File
#
# This file contains all user-defined configuration parameters.
# Edit these values according to your environment.

# ============================================
# VM Configuration
# ============================================

# Libvirt VM name
VM_NAME="eurolinux9"
# VM_NAME="eurolinux9"


# VM SSH credentials
VM_USER="amalykhi"
VM_PASSWORD=" "  # Single space character

# VM Creation Parameters (used if VM doesn't exist)
# TODO:  Set CREATE_VM_IF_MISSING="true" to auto-create VM
CREATE_VM_IF_MISSING="false"

# VM specifications
VM_MEMORY="4096"           # Memory in MB
VM_CPUS="2"                # Number of vCPUs
VM_DISK_SIZE="20"          # Disk size in GB
VM_OS_VARIANT="rhel9.0"    # OS variant for virt-install

# VM installation source
# Options:
#   - URL: http://mirror.example.com/path/to/repo
#   - ISO: /path/to/iso/file.iso
#   - PXE: network boot
VM_INSTALL_SOURCE="https://dl.rockylinux.org/pub/rocky/9/BaseOS/x86_64/os/"

# Network configuration
VM_NETWORK="default"       # Libvirt network name

# Cloud-init configuration (optional)
# If provided, will use cloud-init for automated setup
VM_CLOUD_INIT_USER_DATA=""  # Path to cloud-init user-data file
VM_CLOUD_INIT_META_DATA=""  # Path to cloud-init meta-data file

# Kickstart file (optional)
# If provided, will use kickstart for automated installation
VM_KICKSTART_FILE="/home/amalykhi/RPMs and OIDC/rocky9-kickstart.cfg"       # Path to kickstart file or URL

# ============================================
# FlightCtl RPM Configuration
# ============================================

# RPM source URL or "LATEST" to auto-detect newest build
# Examples:
#   - "LATEST" (recommended - uses Copr)
#   - Copr URL: "https://download.copr.fedorainfracloud.org/results/@redhat-et/flightctl-dev/epel-9-x86_64/09783358-flightctl/"
#   - Brew task URL: "https://brewweb.engineering.redhat.com/brew/taskinfo?taskID=69283299"
#   - Brew download URL: "https://download-01.beak-001.prod.iad2.dc.redhat.com/brewroot/work/tasks/3299/69283299/"
RPM_SOURCE="https://brewweb.engineering.redhat.com/brew/taskinfo?taskID=69283299"

# Copr repository configuration (for LATEST detection)
COPR_BUILDS_URL="https://copr.fedorainfracloud.org/coprs/g/redhat-et/flightctl-dev/builds/"
COPR_DOWNLOAD_BASE="https://download.copr.fedorainfracloud.org/results/@redhat-et/flightctl-dev/epel-9-x86_64"

# ============================================
# Keycloak Configuration
# ============================================

# Keycloak admin credentials
KEYCLOAK_ADMIN="admin"
KEYCLOAK_ADMIN_PASSWORD="admin"

# Keycloak ports
KEYCLOAK_PORT="8080"           # Main HTTP port
KEYCLOAK_HEALTH_PORT="9000"    # Health check port

# ============================================
# OIDC Configuration
# ============================================

# OIDC Realm name
OIDC_REALM="myrealm"

# OIDC Client ID
OIDC_CLIENT_ID="my_client"

# ============================================
# Test User Configuration
# ============================================

# Test user credentials for OIDC authentication
TEST_USER="testuser"
TEST_PASSWORD="password"
TEST_EMAIL="testuser@example.com"

# Additional test users (optional)
# Format: "username:password:email"
# TEST_USERS=(
#     "user1:pass1:user1@example.com"
#     "user2:pass2:user2@example.com"
# )

# ============================================
# Advanced Options
# ============================================

# Enable debug mode (set to "true" for verbose output)
DEBUG_MODE="false"

# Timeout for service startup (seconds)
SERVICE_START_TIMEOUT="15"

# Skip TLS verification (for testing only)
INSECURE_SKIP_TLS_VERIFY="true"

